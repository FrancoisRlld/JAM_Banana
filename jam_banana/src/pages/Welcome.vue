<template>
  <div style="text-align: center">
      <h3 class="text-bold text-blue-grey-14">Hi !</h3>
      <p class="text-subtitle2" style="text-size: 30px">Your Team -who is composed essentially of Grand SuccessMaster- which you a great Future !</p>
      <p class="text-subtitle1" style="margin-top: 50px">If you're reading this, CONGRATS !</p>
      <p style="margin-bottom: 70px">You have accomplished the first Step to become a SuccessMaster !</p>
      <p class="text-h6 text-bold">Now, let's go to the Future !</p>
      <p>If you want to become as successfull as the SuccessMasters, scroll down to learn the Sacred Secrets of the SuccessMasters</p>
  </div>

  <div class="q-pa-md q-gutter-md">
    <div class="row justify-between">
    <q-parallax
      src="https://cdn.quasar.dev/img/parallax2.jpg">
    >
      <h5 class="text-white">How to Become a SuccessMaster</h5>
    </q-parallax>
    </div>
  </div>

  <div style="text-align: center">
        <h3 class="q-mb-lg">Who are we ?</h3>
        <p class="text-h6">Obviously, the Grand SuccessMasters !</p>
        <p class="text-subtitle1" style="margin-bottom: 75px">Yes, we know, you want more and more infos</p>
        <h5>The SuccessMasters are composed of :</h5>
  </div>

  <div class="align-items">

      <div class="q-pa-md">
        <div class="row justify-center q-gutter-sm">
          <q-intersection
            transition="scale"
            class="example-item"
          >
            <q-card class="q-ma-sm">
              <img src="../assets/images/10.jpg" style="max-height: 600px">
              <q-card-section>
                <div class="row">
                  <div class="col" style="margin-left: 50px">
                    <div class="text-body">Head of the SuccessMasters</div>
                    <div class="text-h6">Silviu Zaino</div>
                  </div>
                  <div class="col" style="margin-left: 70px">
                    <div class="text-body">Level</div>
                    <div class="text-h6">199ème Cercle</div>
                  </div>
                  <div class="col" style="margin-left: 70px">
                    <div class="text-body">Member since</div>
                    <div class="text-h6">Year 800</div>
                  </div>
                </div>
              </q-card-section>
            </q-card>

            <q-card class="q-ma-sm q-mt-lg">
              <img src="../assets/images/8.jpg" style="max-height: 600px">
              <q-card-section>
                <div class="row">
                  <div class="col" style="margin-left: 50px">
                    <div class="text-body">Second of the SuccessMasters</div>
                    <div class="text-h6">François Rolland</div>
                  </div>
                  <div class="col" style="margin-left: 70px">
                    <div class="text-body">Level</div>
                    <div class="text-h6">150ème Cercle</div>
                  </div>
                  <div class="col" style="margin-left: 70px">
                    <div class="text-body">Member since</div>
                    <div class="text-h6">Year 1950</div>
                  </div>
                </div>
              </q-card-section>
            </q-card>

            <q-card class="q-ma-sm q-mt-lg">
              <img src="../assets/images/5.jpg" style="max-height: 600px">
              <q-card-section>
                <div class="row">
                  <div class="col" style="margin-left: 50px">
                    <div class="text-body">Archbishop of the SuccessMasters</div>
                    <div class="text-h6">Floriane Mantey</div>
                  </div>
                  <div class="col" style="margin-left: 70px">
                    <div class="text-body">Level</div>
                    <div class="text-h6">100ème Cercle</div>
                  </div>
                  <div class="col" style="margin-left: 70px">
                    <div class="text-body">Member since</div>
                    <div class="text-h6">Year 1970</div>
                  </div>
                </div>
              </q-card-section>
            </q-card>

            <q-card class="q-ma-sm q-mt-lg">
              <img src="../assets/images/6.jpg" style="max-height: 600px">
              <q-card-section>
                <div class="row">
                  <div class="col" style="margin-left: 50px">
                    <div class="text-body">High Priest of the SuccessMasters</div>
                    <div class="text-h6">Benjamin Messmer</div>
                  </div>
                  <div class="col" style="margin-left: 70px">
                    <div class="text-body">Level</div>
                    <div class="text-h6">90ème Cercle</div>
                  </div>
                  <div class="col" style="margin-left: 70px">
                    <div class="text-body">Member since</div>
                    <div class="text-h6">Year 1990</div>
                  </div>
                </div>
              </q-card-section>
            </q-card>

            <q-card class="q-ma-sm q-mt-lg">
              <img src="../assets/images/12.jpg" style="max-height: 600px">
              <q-card-section>
                <div class="row">
                  <div class="col" style="margin-left: 50px">
                    <div class="text-body">Priest of the SuccessMasters</div>
                    <div class="text-h6">Victorien Conde</div>
                  </div>
                  <div class="col" style="margin-left: 70px">
                    <div class="text-body">Level</div>
                    <div class="text-h6">80ème Cercle</div>
                  </div>
                  <div class="col" style="margin-left: 70px">
                    <div class="text-body">Member since</div>
                    <div class="text-h6">Year 1990</div>
                  </div>
                </div>
              </q-card-section>
            </q-card>

            <q-card class="q-ma-sm q-mt-lg">
              <img src="../assets/images/4.jpg" style="max-height: 600px">
              <q-card-section>
                <div class="row">
                  <div class="col" style="margin-left: 50px">
                    <div class="text-body">New SuccessMaster</div>
                    <div class="text-h6">Thomas Dehennault</div>
                  </div>
                  <div class="col" style="margin-left: 70px">
                    <div class="text-body">Level</div>
                    <div class="text-h6">50ème Cercle</div>
                  </div>
                  <div class="col" style="margin-left: 70px">
                    <div class="text-body">Member since</div>
                    <div class="text-h6">Year 2005</div>
                  </div>
                </div>
              </q-card-section>
            </q-card>
          </q-intersection>
        </div>
      </div>
    </div>
  <div style="text-align: center">
    <h3 class="q-mb-lg">What to we want ?</h3>
    <p class="text-h6">For you, to be as successfull as us</p>
    <p class="text-subtitle1">For us, to be more successfull than ever</p>
  </div>
  <div style="text-align: center">
    <h3 class="q-mb-lg">How are we gonna help you ?</h3>
    <p class="text-h6">By guide you through the differents steps</p>
    <p class="text-subtitle1">You are gonna need to press The Game button if you want to know more about it</p>
  </div>
  <div style="text-align: center" class="q-mt-lg">
    <q-btn
      :loading="progress[0].loading"
      :percentage="progress[0].percentage"
      color="primary"
      @click="startComputing(0)"
      style="width: 150px"
    >
      Game Button
      <template v-slot:loading>
        <q-spinner-gears class="on-left" />
        Computing...
      </template>
    </q-btn>
  </div>
</template>

<script>
import { ref, onBeforeUnmount } from 'vue'

export default {
  setup () {
    const progress = ref([
      { loading: false, percentage: 0 },
      { loading: false, percentage: 0 },
      { loading: false, percentage: 0 }
    ])

    const intervals = [null, null, null]

    function startComputing (id) {
      progress.value[id].loading = true
      progress.value[id].percentage = 0

      intervals[id] = setInterval(() => {
        progress.value[id].percentage += Math.floor(Math.random() * 8 + 10)
        if (progress.value[id].percentage >= 100) {
          clearInterval(intervals[id])
          progress.value[id].loading = false
        }
      }, 700)
    }

    onBeforeUnmount(() => {
      intervals.forEach(val => {
        clearInterval(val)
      })
    })

    return {
      progress,
      startComputing
    }
  }
}
</script>
